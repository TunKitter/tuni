(()=>{"use strict";var t={879:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function u(t){try{a(o.next(t))}catch(t){i(t)}}function c(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,c)}a((o=o.apply(t,e||[])).next())}))},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(433),u=r(n(500));new MutationObserver(((t,e)=>o(void 0,void 0,void 0,(function*(){"complete"===document.readyState&&!document.querySelector("#tunkit_interactive_button")&&document.querySelector(".ytp-subtitles-button.ytp-button")&&((0,i.insertToggleIconMenu)(),yield(0,i.insertComponent)(),(0,i.insertMenuPanel)(),(0,i.handelTogglePanel)(),(0,u.default)(),e.disconnect())})))).observe(document,{childList:!0,subtree:!0})},433:function(t,e,n){var o,r=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||(o=function(t){return o=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[e.length]=n);return e},o(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n=o(t),u=0;u<n.length;u++)"default"!==n[u]&&r(e,t,n[u]);return i(e,t),e}),c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function u(t){try{a(o.next(t))}catch(t){i(t)}}function c(t){try{a(o.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,c)}a((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.component_wrapper=void 0,e.insertToggleIconMenu=function(){const t=document.querySelector(".ytp-subtitles-button.ytp-button");if(null==t)throw new Error("Can't insert trigger button");const e=document.createElement("button");e.classList.add("ytp-button"),e.id="tunkit_interactive_button",e.innerHTML=`<img id="tunkit_svg" aria-pressed="false" class="ytp-svg-shadow" src="${(0,a._getURL)("icons/panel_icon.svg")}"/>`,t.insertAdjacentElement("afterend",e)},e.insertComponent=function(){return c(this,void 0,void 0,(function*(){yield fetch((0,a._getURL)("static/bundle.html")).then((t=>t.text())).then((function(t){const n=(0,a._getURL)("icons/");t=t.replaceAll(/{{icon\./g,n).replaceAll("}}",".svg"),e.component_wrapper.innerHTML=t,(0,l.initAfterInsertComponent)()}))}))},e.insertMenuPanel=function(){var t;null===(t=document.querySelector(".ytp-popup.ytp-settings-menu"))||void 0===t||t.insertAdjacentElement("afterend",l.default.PANEL_WRAPPER)},e.handelTogglePanel=function(){const t=document.querySelector("#tunkit_interactive_button");if(null==t)throw new Error("Can't find trigger button");t.addEventListener("click",(()=>l.default.PANEL_WRAPPER.classList.toggle("tunkit_menu_active")))};const a=n(666),l=u(n(934));e.component_wrapper=document.createElement("div")},500:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){navigation.addEventListener("navigate",(()=>{var t;null===(t=r.default.PANEL_WRAPPER)||void 0===t||t.classList.remove("tunkit_menu_active")}))};const r=o(n(934))},666:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e._getURL=function(t){return chrome.runtime.getURL(`assets/${t}`)},e.getComponent=function(t,e=!0){const n=o.component_wrapper.querySelector(`${t}`);if(null==n)throw new Error("Can't find component");const r=n.cloneNode(!0);return 1==e&&n.remove(),r};const o=n(433)},934:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.initAfterInsertComponent=function(){r.PANEL_WRAPPER=(0,o.getComponent)(".tunkit_panel_wrapper")};const o=n(666),r={PANEL_WRAPPER:null};e.default=r}},e={};!function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}(879)})();